<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Uploader</title>
</head>
<body>
    <h1>Upload File</h1>
    <form id="uploadForm" enctype="multipart/form-data">
        <input type="file" id="fileInput" required>
        <button type="button" onclick="uploadFile()">Upload</button>
    </form>

    <h2>Uploaded Files</h2>
    <ul id="fileList"></ul>

        <iframe src="https://gofile.io/d/mCH3Tb" ></iframe>

    <script>
        const fileList = document.getElementById('fileList');

        function uploadFile() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];
            const formData = new FormData();
            formData.append('file', file);

            fetch('https://api.gofile.io/servers', {
                method: 'GET'
            })
            .then(response => response.json())
            .then(data => {
                const server = data.data.servers[0].name; // Assume using the first server

                const uploadUrl = `https://${server}.gofile.io/contents/uploadfile`;
                const uploadFormData = new FormData();
                uploadFormData.append('file', file);

                return fetch(uploadUrl, {
                    method: 'POST',
                    body: uploadFormData
                });
            })
            .then(response => response.json())
            .then(data => {
                const fileUrl = data.data.downloadPage;

                const listItem = document.createElement('li');
                const link = document.createElement('a');
                link.href = fileUrl;
                link.textContent = file.name;
                listItem.appendChild(link);
                fileList.appendChild(listItem);

                // Display the image
                const imageElement = document.createElement('img');
                imageElement.src = fileUrl;
                fileList.appendChild(imageElement);

                // Clear input field
                fileInput.value = '';
            })
            .catch(error => console.error('Error uploading file:', error));
        }
    </script>
</body>
</html>
